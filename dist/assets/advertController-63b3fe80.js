import{v as p,l as y,A as l,x as r,p as m}from"./index-b6957c64.js";const w=async o=>{var i;const n=p(),{showAlert:e}=n,a=m(),{userId:t,token:c}=a;try{const{advertDescription:s,city:v,instrument:A,advertType:f,style:u}=o,x=new Date;if(t&&c){const g={advertDescription:s,city:v,style:u,instrument:A,advertType:f,publishedDate:x,userId:t},d=await y.createAdvert(g,c);return e({text:d.message,type:r.sucsess}),d.advertId}}catch(s){s instanceof l?e({text:(i=s.response)==null?void 0:i.data.message,type:r.error}):s instanceof Error?e({text:s.message,type:r.error}):e({text:"не удалось создать новое объявление",type:r.error})}},D=async o=>{var a;const n=p(),{showAlert:e}=n;try{return await y.getAdvert(o)}catch(t){t instanceof l?e({text:(a=t.response)==null?void 0:a.data.message,type:r.error}):t instanceof Error?e({text:t.message,type:r.error}):e({text:"Не удалось получить объявление",type:r.error})}};export{w as c,D as g};
