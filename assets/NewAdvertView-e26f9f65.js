import{d as V,t as F,r as f,m as M,a as n,c as R,w as y,o as T,b as o,u as l,e as h,f as j,P as I,s as $,k as E,i as P,h as b,g as G}from"./index-b6957c64.js";import{c as L}from"./advertController-63b3fe80.js";import{u as q}from"./filters-8faaf73c.js";const z=V({__name:"NewAdvertForm",props:{advertTypes:{},cities:{},instruments:{},styles:{}},setup(_){const u=_,{advertTypes:i,cities:m,styles:c,instruments:d}=F(u),r=f("от музыкантов"),v=M(),e=f({city:null,instrument:null,style:[],advertType:{name:"fromMusicians",label:"Музыкант ищет группу",_id:"0"},advertDescription:""}),w=t=>{e.value.city=t},S=t=>{e.value.instrument=t},x=t=>{e.value.style=t},D=t=>{e.value.advertType=t,r.value=r.value==="от музыкантов"?"от групп":"от музыкантов"},k=t=>{t.target&&e.value.advertDescription},N=async()=>{const t=await L(e.value);t&&v.push({name:I.ADVERT,params:{id:t}})};return(t,s)=>{const A=n("v-switch"),p=n("v-autocomplete"),C=n("v-textarea"),U=n("v-btn"),g=n("v-form"),B=n("v-sheet");return T(),R(B,{"max-width":"450",class:"mx-auto pa-5"},{default:y(()=>[o(g,{onSubmit:s[5]||(s[5]=j(()=>{},["prevent"]))},{default:y(()=>[o(A,{"onUpdate:modelValue":[D,s[0]||(s[0]=a=>e.value.advertType=a)],modelValue:e.value.advertType,"true-value":l(i).fromGroups,"false-value":l(i).fromMusicians,label:`Объявления ${r.value}`},null,8,["modelValue","true-value","false-value","label"]),o(p,{"onUpdate:modelValue":[S,s[1]||(s[1]=a=>e.value.instrument=a)],modelValue:e.value.instrument,"return-object":"",items:l(d),"item-title":"label",label:"Инструмент"},null,8,["modelValue","items"]),o(p,{modelValue:e.value.city,"onUpdate:modelValue":[s[2]||(s[2]=a=>e.value.city=a),w],items:l(m),"return-object":"","item-title":"label",label:"Город"},null,8,["modelValue","items"]),o(p,{multiple:"","item-title":"label","return-object":"",modelValue:e.value.style,"onUpdate:modelValue":[s[3]||(s[3]=a=>e.value.style=a),x],items:l(c),label:"Стиль"},null,8,["modelValue","items"]),o(C,{oninput:k,modelValue:e.value.advertDescription,"onUpdate:modelValue":s[4]||(s[4]=a=>e.value.advertDescription=a),clearable:"",label:"Описание"},null,8,["modelValue"]),o(U,{onClick:N,color:"primary",type:"submit",block:"",class:"mt-2"},{default:y(()=>[h(" Создать ")]),_:1})]),_:1})]),_:1})}}}),H={class:"text-center py-7"},J={class:"form_container"},W=V({__name:"NewAdvertView",setup(_){const u=q(),{cities:i,styles:m,instruments:c,advertTypes:d}=$(u),{getFiltersData:r}=u;return E(()=>{r()}),(v,e)=>(T(),P("div",null,[b("h1",H,G(v.$route.meta.title),1),b("div",J,[o(z,{advertTypes:l(d),cities:l(i),instruments:l(c),styles:l(m)},null,8,["advertTypes","cities","instruments","styles"])])]))}});export{W as default};
